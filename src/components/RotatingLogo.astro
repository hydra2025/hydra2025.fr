---
import Image from "astro/components/Image.astro";
import c1 from "../assets/c1.svg";
import c2 from "../assets/c2.svg";
import c3 from "../assets/c3.svg";
import c4 from "../assets/c4.svg";
import submarine from "../assets/submarine_wireframe.svg";
---

<div class="rotater">
  <div class="ontop">
    <Image src={c1} class="circle-inside" id="c1" alt="" />
  </div>
  <div class="ontop">
    <Image src={c2} class="circle-inside" id="c2" alt="" />
  </div>
  <div class="ontop">
    <Image src={c3} class="circle-inside" id="c3" alt="" />
  </div>
  <div class="ontop">
    <Image src={c4} class="circle-inside" id="c4" alt="" />
  </div>
  <div id="submarine">
    <Image src={submarine} alt="" />
  </div>
</div>
<style>
  .rotater {
    padding: 1em;
    margin: 0;
    width: 100%;
    max-width: calc(100vmin - var(--header-height));
    max-height: calc(100vh - var(--header-height));
    aspect-ratio: 1/1;
    display: grid;
    overflow: hidden;
    padding: 1em;
  }

  #submarine {
    display: flex;
    grid-column: 1;
    grid-row: 1;
    width: 100%;
    height: 100%;
    z-index: 0;
    justify-content: center;
    align-items: center;
  }
  #submarine img {
    z-index: 10;
    width: 32%;
    height: auto;
  }

  .ontop {
    padding: 0;
    margin: 0;
    grid-column: 1;
    grid-row: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100%;
  }

  .circle-inside {
    box-sizing: border-box;
    animation: rotate 10s ease infinite;

    aspect-ratio: 1/1;
    padding: 0;
    margin: 0;
    width: 100%;
    height: 100%;
  }

  .ontop svg {
    padding: 0;
    margin: 0;
    width: 100%;
    height: 100%;
  }

  #c1 {
    z-index: 1;
    width: 100%;
    animation-duration: 10s;
    animation-direction: alternate;
  }

  #c2 {
    z-index: 2;
    width: 60%;
    animation-duration: 8s;
    animation-name: rotate2;
  }

  #c3 {
    z-index: 3;
    width: 52%;
    animation-duration: 6s;
    animation-direction: reverse;
  }

  #c4 {
    z-index: 4;
    width: 42%;
    animation-duration: 4s;
  }

  @keyframes rotate {
    0% {
      transform: rotate(0deg);
    }
    50% {
      transform: rotate(360deg);
    }
  }

  @keyframes rotate2 {
    0% {
      transform: rotate(0deg);
    }
    10% {
      transform: rotate(-45deg);
    }
    25% {
      transform: rotate(180deg);
    }
    35% {
      transform: rotate(-90deg);
    }
    50% {
      transform: rotate(90deg);
    }
    65% {
      transform: rotate(-180deg);
    }
    75% {
      transform: rotate(270deg);
    }
    85% {
      transform: rotate(-135deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
</style>
